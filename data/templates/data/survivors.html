{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container game-container flex-column align-items-center justify-content-center text-center">

  <div class="row">

    <div class="col-12 mb-2">
      <h2 class="menu-font">SURVIVORS</h2>
    </div>

  </div>
  <hr>

  {% for player in users %}
        <div class="row">

            <div class="col username-font">
                {{ forloop.counter }}.&nbsp;
                <a href="{% url 'view_profile' player %}">{{ player.username }}</a>{% if player.userdata.nationality %}
                            <img src="{{ player.userdata.nationality.flag }}" alt="{{ player.user_data.nationality }} flag">
                        {% endif %}
                    <img src="{{ player.userdata.user_icon.icon.url }}" alt="Player icon" class="player-icon">
            </div>

            <div class="col text-start username-font">
                        
                Played: {{ player.games_played }}<br>
                Survived: {{ player.games_won }}<br>
                Died: {{ player.games_lost }}<br>
                Avg Score: {{ player.avg_score|floatformat:1|default:"N/A" }}<br>
            </div>

        </div>
<hr>        
  {% endfor %}


</div>
{% endblock %}